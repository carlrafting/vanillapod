var vanillapod=function(e){"use strict";function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?window.VANILLAPOD_DEBUG=e:window.VANILLAPOD_DEBUG}var n=[],r=function(e){if(t())throw e;n[e]={exception:e}};function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=8,n=-1;return Object.prototype.toString.call(e).slice(t,n).toLowerCase()}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e||r(new Error("Expected parent parameter to be set, was ".concat(e)));var n=e.childNodes.length,o=n>0;o&&e.childNodes.forEach((function(e){e.nodeType===Node.ELEMENT_NODE&&(e.childNodes.length>0&&c(e,(function(e){t(e)})),t(e))}))}var i="_vanillapod_hooks";function l(e,n){var r=n.hooks,o=void 0===r?{}:r;if(o)return e[i]?void(t()&&console.log("Hooks already registered for ".concat(e))):(t()&&console.log("Registering hooks for ".concat(e)),void(e[i]=o))}function a(e,n){var r=e[i];if(r){if(n&&r[n]){t()&&console.log("Triggering hook ".concat(n," for ").concat(e));for(var o=arguments.length,c=new Array(o>2?o-2:0),l=2;l<o;l++)c[l-2]=arguments[l];r[n](c)}}else t()&&console.log("No hooks registered for ".concat(e))}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";""!==t&&c(e,(function(e){var n=e._vanillapod_hooks;n&&Object.keys(n).length>0&&n&&n.before&&a(e,t)}))}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,c=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,c=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=t.props,r=t.properties;if(n||r)for(var o in n||(n=r,r={}),n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}function g(e,n){var r=n.attributes,o=n.attrs,c=n.classList,i=n.classNames,l=n.data;if(t()&&console.log("Setting attributes for ".concat(e)),(c||i)&&(c||(c=i,i=[]),c.forEach((function(t){e.classList.add(t)}))),l)for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(Array.isArray(a)&&g(e,a),e.dataset[a]=l[a]);if(o||r){if(o||(o=r,r=null),"function"==typeof o){var u=o();return void g(e,d({},u))}if("object"===s(o)){for(var f in t()&&console.log(o),o)"object"===s(f)&&g(e,f),Object.prototype.hasOwnProperty.call(o,f)&&f in e&&e.setAttribute("".concat(f),o[f]);return}o.forEach((function(t){e.setAttribute(t)}))}}function b(e,t){var n=t.text;n&&""!==n&&e.appendChild(document.createTextNode(n))}function h(e,t){var n=t.events,r=t.on;if(r||n)for(var o in r||(r=n,n={}),r)Object.prototype.hasOwnProperty.call(r,o)&&e.addEventListener("".concat(o),r[o],!1)}var O={element:null,el:null,data:{},classList:[],classNames:[],attributes:{},attrs:{},properties:{},props:{},children:[],text:null,events:{},on:{},hooks:{}};function w(e){var n;if(t()&&console.log("Creating ".concat(e.element||e.el," for ").concat(e.elementCreatorFunction)),e.el||e.element)return e.el||(e.el=e.element,e.element=null),"string"==typeof e.el?(t()&&console.log("Creating element..."),n=document.createElement(e.el),t()&&console.log("Created element: ",n)):n=e.el,n||r(new Error("element is ".concat(n))),[n,e];r(new Error("No element specified on ".concat(e)))}function E(e){if("function"==typeof e){t()&&console.log("Registering ".concat(e,"..."));var n=e();if("object"!==s(n)&&r(new Error("".concat(e," must return an object"))),function(e){for(var t in e)Object.prototype.hasOwnProperty.call(O,t)||r(new Error("".concat(t," is not a valid property name. Try one of the following instead: ")+Object.keys(O)));return!0}(n))return d({elementCreatorFunction:e},n)}r(new Error("".concat(e," is not a function")))}function j(e){var t=y(w(e),2),n=t[0],r=t[1];return console.log("elementHelper: elProps",r),v(n,r),g(n,r),b(n,r),h(n,r),n}function P(e,n){n.children&&n.children.length>0&&n.children.map((function(n){var r=E(n),o=y(w(r),2),c=o[0],i=o[1];t()&&console.log("childInstance",r)&&console.log("childElement",c)&&console.log("childProps",i),v(c,i),g(c,i),b(c,i),h(c,i),l(c,i),i.children&&P(c,i),e.appendChild(c)}))}return e.createDocumentFragment=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=document.createDocumentFragment();return v(t,e),b(t,e),h(t,e),[t,e]},e.createElement=w,e.debug=t,e.elementHelper=j,e.mount=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),c=1;c<t;c++)n[c-1]=arguments[c];n.forEach((function(t){"function"!==o(t)&&r(new Error("arg must be a function"));var n=E(t),c=n.el,i=n.element;c||(c=i,i=null),"string"===o(c)&&(P(c=j(n),n),l(c,n));var s=c._vanillapod_hooks;if(u(c,"before"),s&&s.before&&a(c,"before"),e&&e.insertBefore(c,null),!e){var f=document.querySelector("body");f.insertBefore(c,f.lastChild)}s&&s.mount&&a(c,"mount"),u(c,"mount")}))},e.registerElement=E,e.registerHook=function(e,t){var n=e[i];n[t]||(n[t]=t)},e.registerHooks=l,e.setElementAttributes=g,e.setElementChildren=P,e.setElementEventHandlers=h,e.setElementProperties=v,e.setElementTextContent=b,e.triggerHook=a,e.unmount=function(){r(new Error("unmount yet to be implemented!"))},e.version="0.8.3",e}({});
