var e="0.8.3";function o(e=!1){return e?window.VANILLAPOD_DEBUG=e:window.VANILLAPOD_DEBUG}const t=[];var n=e=>{if(o())throw e;t[e]={exception:e}};function r(e,{attributes:t,attrs:n,classList:l,classNames:c,data:s}){if(o()&&console.log("Setting attributes for "+e),(l||c)&&(l||(l=c),l.forEach(o=>{e.classList.add(o)})),s)for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(Array.isArray(o)&&r(e,o),e.dataset[o]=s[o]);if(t||n){if(t||(t=n),"function"==typeof t){const o=t();return void r(e,{...o})}if("object"==typeof t){o()&&console.log(t);for(const o in t)"object"==typeof o&&r(e,o),Object.prototype.hasOwnProperty.call(t,o)&&o in e&&e.setAttribute(""+o,t[o]);return}t.forEach(o=>{e.setAttribute(o)})}}function l(e,{text:o}){o&&""!==o&&e.appendChild(document.createTextNode(o))}function c(e,{events:o={}}){if(o)for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&e.addEventListener(""+t,o[t],!1)}const s={element:null,el:null,data:{},classList:[],classNames:[],attributes:{},properties:{},props:{},attrs:{},children:[],text:null,events:{},hooks:{}};function i(e){if(o()&&console.log(`Creating ${e.element||e.el} for ${e.elementCreatorFunction}`),e.el||e.element){let t;return e.el||(e.el=e.element),"string"==typeof e.el?(o()&&console.log("Creating element..."),t=document.createElement(e.el),o()&&console.log("Created element: ",t)):t=e.el,t||n(new Error("element is "+t)),[t,e]}n(new Error("No element specified on "+e))}function a(e){if("function"==typeof e){o()&&console.log(`Registering ${e}...`);const t=e();if("object"!=typeof t&&n(new Error(e+" must return an object")),function(e){for(const o in e)Object.prototype.hasOwnProperty.call(s,o)||n(new Error(o+" is not a valid property name. Try one of the following instead: "+Object.keys(s)));return!0}(t))return{elementCreatorFunction:e,...t}}n(new Error(e+" is not a function"))}function f(e,{props:o,properties:t}){if(o||t){o||(o=t);for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}}function p(e){const[o,t]=i(e);return console.log("elementHelper: elProps",t),f(o,t),r(o,t),l(o,t),c(o,t),o}function u(e,{hooks:t={}}){if(!t)return;const n="_vanillapod_hooks";if(!e[n])return o()&&console.log("Registering hooks for "+e),void(e[n]=t);o()&&console.log("Hooks already registered for "+e)}function d(e,o){const t=e._vanillapod_hooks;t[o]||(t[o]=o)}function g(e,t,...n){const r=e._vanillapod_hooks;r?t&&r[t]&&(o()&&console.log(`Triggering hook ${t} for ${e}`),r[t](n)):o()&&console.log("No hooks registered for "+e)}function h(e,t){t.children&&t.children.length>0&&t.children.map(t=>{const n=a(t),[s,p]=i(n);o()&&console.log("childInstance",n)&&console.log("childElement",s)&&console.log("childProps",p),f(s,p),r(s,p),l(s,p),c(s,p),u(s,p),p.children&&h(s,p),e.appendChild(s)})}function m(e,...t){t.forEach(t=>{const n=t,{element:s}=function(e){const t=a(e);if("string"==typeof t.element){o()&&console.log("Element instance: ",t);const[e,n]=i(t);f(e,n),r(e,n),l(e,n),c(e,n),h(e,n),u(e,n)}const{element:n}=t;return{element:n}}(n),p=s._vanillapod_hooks;if(e&&e.appendChild(s),!e){document.querySelector("body").appendChild(s)}o()&&console.log("hooks",p),p&&p.mount&&g(s,"mount")})}function y(e={}){const o=document.createDocumentFragment();return f(o,e),l(o,e),c(o,e),[o,e]}export{y as createDocumentFragment,i as createElement,o as debug,p as elementHelper,m as mount,a as registerElement,d as registerHook,u as registerHooks,r as setElementAttributes,h as setElementChildren,c as setElementEventHandlers,l as setElementTextContent,g as triggerHook,e as version};
