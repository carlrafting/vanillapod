function e(e=!1){return e?window.VANILLAPOD_DEBUG=e:window.VANILLAPOD_DEBUG}const t=[];var n=n=>{if(e())throw n;t[n]={exception:n}};const o={element:null,el:null,data:{},classList:[],classNames:[],attributes:{},properties:{},props:{},attrs:{},children:[],text:null,events:{},hooks:{}};function r(t){if(e()&&console.log(`Creating ${t.element||t.el} for ${t.elementCreatorFunction}`),t.el||t.element){let o;return t.el||(t.el=t.element),"string"==typeof t.el?(e()&&console.log("Creating element..."),o=document.createElement(t.el),e()&&console.log("Created element: ",o)):o=t.el,o||n(new Error("element is "+o)),[o,t]}n(new Error("No element specified on "+t))}function l(t){if("function"==typeof t){e()&&console.log(`Registering ${t}...`);const r=t();if("object"!=typeof r&&n(new Error(t+" must return an object")),function(e){for(const t in e)Object.prototype.hasOwnProperty.call(o,t)||n(new Error(t+" is not a valid property name. Try one of the following instead: "+Object.keys(o)));return!0}(r))return{elementCreatorFunction:t,...r}}n(new Error(t+" is not a function"))}function c(e,{props:t,properties:n}){if(t||n){t||(t=n);for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}}function i(e="",t="",n=function(){},o={},r=[]){return{element:e,text:t,...n(),events:o,children:r}}function s(t,{attributes:n,attrs:o,classList:r,classNames:l,data:c}){if(e()&&console.log("Setting attributes for "+t),(r||l)&&(r||(r=l),r.forEach(e=>{t.classList.add(e)})),c)for(const e in c)Object.prototype.hasOwnProperty.call(c,e)&&(Array.isArray(e)&&s(t,e),t.dataset[e]=c[e]);if(n||o){if(n||(n=o),"function"==typeof n){const e=n();return void s(t,{...e})}if("object"==typeof n){e()&&console.log(n);for(const e in n)"object"==typeof e&&s(t,e),Object.prototype.hasOwnProperty.call(n,e)&&e in t&&t.setAttribute(""+e,n[e]);return}n.forEach(e=>{t.setAttribute(e)})}}function a(e,{text:t}){t&&""!==t&&e.appendChild(document.createTextNode(t))}function f(e,{events:t={}}){if(t)for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.addEventListener(""+n,t[n],!1)}function p(t,n){n.children&&n.children.length>0&&n.children.map(n=>{const o=l(n),[i,u]=r(o);e()&&console.log("childInstance",o)&&console.log("childElement",i)&&console.log("childProps",u),c(i,u),s(i,u),a(i,u),f(i,u),u.children&&p(i,u),t.appendChild(i)})}function u(t){const n=l(t);e()&&console.log("Element instance: ",n);const[o,i]=r(n);return c(o,i),s(o,i),a(o,i),f(o,i),p(o,i),{element:o}}function d(e,...t){t.forEach(t=>{const n=t,{element:o}=u(n);if(e)return void e.appendChild(o);document.querySelector("body").appendChild(o)})}export{e as debug,i as elementHelper,d as mount};
