var e="0.10.1";function o(e=!1){return e?window.VANILLAPOD_DEBUG=e:window.VANILLAPOD_DEBUG}var t=e=>{if(o())throw e};function n(e=null){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function r(e=null,o=(()=>{})){e||t(new Error(`Expected parent parameter to be set, was ${e}`));e.childNodes.length>0&&e.childNodes.forEach((e=>{if(e.nodeType===Node.ELEMENT_NODE){e.childNodes.length>0&&r(e,(e=>{o(e)})),o(e)}}))}const l="_vanillapod_hooks";function s(e,{hooks:t={}}){if(t)return e[l]?void(o()&&console.log(`Hooks already registered for ${e}`)):(o()&&console.log(`Registering hooks for ${e}`),void(e[l]=t))}function c(e,o){const t=e[l];t[o]||(t[o]=o)}function i(e,t,...n){const r=e[l];r?t&&r[t]&&(o()&&console.log(`Triggering hook ${t} for ${e}`),r[t](n)):o()&&console.log(`No hooks registered for ${e}`)}function a(e,o=""){""!==o&&r(e,(e=>{const t=e._vanillapod_hooks;t&&Object.keys(t).length>0&&t&&t.before&&i(e,o)}))}function f(e,{props:o,properties:t}){if(o||t){o||(o=t,t={});for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}}function u(e,{attributes:t,attrs:n,classList:r,classNames:l,data:s}){if(o()&&console.log(`Setting attributes for ${e}`),(r||l)&&(r||(r=l,l=[]),r.forEach((o=>{e.classList.add(o)}))),s)for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(Array.isArray(o)&&u(e,o),e.dataset[o]=s[o]);if(n||t){if(n||(n=t,t=null),"function"==typeof n){const o=n();return void u(e,{...o})}if("object"==typeof n){o()&&console.log(n);for(const o in n)"object"==typeof o&&u(e,o),Object.prototype.hasOwnProperty.call(n,o)&&o in e&&e.setAttribute(`${o}`,n[o]);return}n.forEach((o=>{e.setAttribute(o)}))}}function p(e,{text:o}){o&&""!==o&&e.appendChild(document.createTextNode(o))}function d(e,{events:o,on:t}){if(t||o){t||(t=o,o={});for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.addEventListener(`${o}`,t[o],!1)}}const g={element:null,el:null,data:{},classList:[],classNames:[],attributes:{},attrs:{},properties:{},props:{},children:[],text:null,events:{},on:{},hooks:{}};function h(e){if(o()&&console.log(`Creating ${e.element||e.el} for ${e.vanillapodComponent}`),e.el||e.element){let n;return e.el||(e.el=e.element,e.element=null),"string"==typeof e.el?(o()&&console.log("Creating element..."),n=document.createElement(e.el),o()&&console.log("Created element: ",n)):n=e.el,n||t(new Error(`element is ${n}`)),[n,e]}t(new Error(`No element specified on ${e}`))}function m(e,n){if("function"==typeof e){o()&&console.log(`Registering ${e}...`);const r=n?e(n):e();if("object"!=typeof r&&t(new Error(`${e} must return an object`)),function(e){for(const o in e)Object.prototype.hasOwnProperty.call(g,o)||t(new Error(`${o} is not a valid property name. Try one of the following instead: `+Object.keys(g)));return!0}(r))return{vanillapodComponent:e,...r}}t(new Error(`${e} is not a function`))}function y(e){const[t,n]=h(e);return o()&&console.log("elementHelper: elProps",n),f(t,n),u(t,n),p(t,n),d(t,n),t}function b(e,{children:t}){t&&t.length>0&&t.map((t=>{const n=m(t),[r,l]=h(n);o()&&console.log("childInstance",n)&&console.log("childElement",r)&&console.log("childProps",l),f(r,l),u(r,l),p(r,l),d(r,l),s(r,l),l.children&&b(r,l),e.appendChild(r)}))}function w(e,...o){let t,r,l=0;const c=o.length;for(;l<c;l++){const c=o[l];"array"===n(c)?[t,r]=c:t=c;const f=m(t,r);let{el:u,element:p}=f;u||(u=p,p=null),"string"===n(u)&&(u=y(f),b(u,f),s(u,f));const d=u._vanillapod_hooks;if(a(u,"before"),d&&d.before&&i(u,"before"),e&&e.insertBefore(u,null),!e){const e=document.querySelector("body");e.insertBefore(u,e.lastChild)}d&&d.mount&&i(u,"mount"),a(u,"mount")}}function E(e={}){const o=document.createDocumentFragment();return f(o,e),p(o,e),d(o,e),[o,e]}export{E as createDocumentFragment,h as createElement,o as debug,y as elementHelper,w as mount,m as registerElement,c as registerHook,s as registerHooks,u as setElementAttributes,b as setElementChildren,d as setElementEventHandlers,f as setElementProperties,p as setElementTextContent,i as triggerHook,e as version};
